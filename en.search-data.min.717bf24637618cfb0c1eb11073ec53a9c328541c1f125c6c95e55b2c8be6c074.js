"use strict";(function(){const t={cache:!0};t.doc={id:"id",field:["title","content"],store:["title","href"]};const e=FlexSearch.create("balance",t);window.bookSearchIndex=e,e.add({id:0,href:"/docs/about/",title:"About Me",content:`About me Who am I? I&rsquo;m Hamza, a postdoctoral research associate with a PhD in Aerospace Engineering. I&rsquo;m passionate about all things that related to control theory, with a drive to apply my knowledge to solve problems in robotics, optics, and healthcare. One of my longstanding research goals lies in enabling safe autonomous robotic surgical interventions, and much of my PhD research and current work stands in service of this.
I like tinkering around with hardware and code to see if my ideas are actually capable of holding water in reality (check out the projects tab for more on that). That&rsquo;s where I feel my drive lies&mdash;bringing theory and practice together, regardless of what their original applications may be.
When I&rsquo;m not doing research, I like to hike and work on my coding projects, as well as bouldering or practicing jiujitsu.
Fig.: Me `}),e.add({id:1,href:"/docs/cv/",title:"Curriculum Vitae",content:`Curriculum Vitae For information on my research activities, click here.1
Previous Next &nbsp; &nbsp; / [pdf] View the PDF file here. For an outdated HTML version of my CV, see here&#160;&#x21a9;&#xfe0e;
`}),e.add({id:2,href:"/docs/cv/legacy/",title:"Curriculum Vitae (Legacy)",content:`Curriculum Vitae For information on my research activities, click here.
Bio Aerospace engineering PhD candidate conducting research in robust safety-critical control of distributed parameter systems and systems facing adverse operating conditions.
Academics University of Illinois at Urbana-Champaign &mdash; PhD Student August 2020&mdash; in Urbana-Champaign, IL Jointly supervised PhD program in Aerospace Engineering and Mechanical Science and Engineering, focusing on control theory and safe robotics, especially regarding safety-critical control of complex systems in adverse environments with limited prior knowledge, as well as robust adaptive control of infinite-dimensional system, with applications to autonomous robotic electrosurgery.
Teaching Assistantships ME 462/498JB/597JB: Advanced Computer Control (Fall 2020/2021/2022/2023): A course aimed at providing students a foundation in modern real-time-computable control design through progression from basic theory to advanced control algorithms that have proven successful in practice. Both discrete-time and continuous-time formats are employed and linked through discrete-continuous (sampled-data) concepts. The laboratory part of the course provides exposure to:
Elements of AI and machine learning proven useful in enhancing these algorithms, Related Matlab toolboxes and algorithm implementations from the ground up, Implementation of these algorithms on modern computing platforms (GPUs and FPGAs), and Applications in aerospace, power generation, manufacturing, and other areas. I was responsible for grading homework, lab reports, and the final project (a project where students independently explore a robust adaptive control concept and apply it to their research). I was also responsible for developing the lab materials (a rigorous exploration of the theory, followed by interactive code examples and exercises related to real-life applications), in addition to and teaching lab lectures and having office hours. Original lab materials include, but are not limited to:
An interior point method based constrained discrete-time linear model predictive control (MPC) solver;
A massively parallel GPU implementation of a bank of PID controllers;
Generalized predictive control (GPC) algorithms with rate-constraints and adaptive extensions;
Recursive least-squares (RLS), multi-step-ahead predictive identification (MSPI), long-range predictive identification (LRPI) system identification algorithms.
AE 461: Structures &amp; Control Lab (Spring 2021, 2022, 2023, 2024):
A course aimed at providing students hands-on experience with applied structures and control problems. I was responsible for the control part, administering lab sessions that focused on system identification and feedback controller design.
Delft University of Technology &mdash; Undergraduate Aerospace Engineering September 2017&ndash;July 2020 (3 years) in Delft, The Netherlands Bachelor&rsquo;s degree in Aerospace Engineering, with a graduation thesis on a cost-effective civilian aircraft flight simulator for upset prevention and recovery training (UPRT).
Delft University of Technology &mdash; Honours Programme Delft Bachelor Student September 2018&ndash;July 2020 (2 years) in Delft, The Netherlands Program for honors students, including a research segment (14 ECTS) and an interdisciplinary segment (6 ECTS). The research is on a range-restricted guidance law for the optimal ascent of experimental rockets. The interdisciplinary segment consisted on a course on Global Development Engineering, and a summer school at CERN on innovative engineering and design thinking.
University of Illinois at Urbana-Champaign &mdash; Exchange Student August 2019&ndash;January 2020 (5 months) in Urbana-Champaign, IL Semester-long exchange at the University of Illinois, focusing on hypersonic aerodynamics, real-time computer control and machine learning. Additionally working on an independent study on in-flight change-conscious estimation and prediction of environmental parameters in aerospace vehicles.
Internships CERN &mdash; CERN Honours Programme Summer School July 2019 (1 month) in Meyrin, Canton of Geneva, Switzerland A three week summer course at CERN IdeaSquare in Geneva in which students work in multidisciplinary teams to investigate a novel technology to find innovative applications which solve societal problems.
European Space Agency - ESA &mdash; Introduction to Space Law Training Course June 2019 (1 week) in Redu, Belgium A week-long intensive training course on the concept of Space Law, including its implementation within the European space program and national law. Among the speakers were experts from ESA, as well as national officials from space offices in Europe and the Secretary-General of the United Nations Committee on the Peaceful Uses of Outer Space. The course was wrapped up with a model United Nations General-Assembly meeting.
Extracurricular activities The Illinois Space Society &mdash; Technical Manager September 2019&ndash;January 2020 (5 months) in Urbana-Champaign, IL Full design and engineering of a sounding rocket and aerially-deployed quadcopter payload as the Technical Manager for the University of Illinois at Urbana-Champaign&rsquo;s NASA University Student Launch Initiative team.
This entails managing a team of students to develop an in-house project with limited funds. In addition to production, careful design and simulations are an integral part of the process, and much efforts are invested in the study of highfidelity simulation methods for trajectory, flight loads, and stability assessment.
Finally, advanced robust autonomous control systems design for a quadcopter that can retrieve a ground sample are a unique aspect of the project. Here, I have introduced team members to safety critical programming in C++, and have lead the groundwork to informed system design, as well as controller design and communications protocols between ground and the vehicle.
Delft Aerospace Rocket Engineering &mdash; Flight Simulations Engineer November 2018&ndash;August 2019 (10 months) in Delft, The Netherlands Responsible for creating a novel sounding rocket flight simulation code from scratch. This code is object oriented and written in C++, with Python bindings for easy interfacing. Aerodynamics and environmental effects (atmosphere and gravity) are included in a six degrees-of-freedom kinematics model, with variable geometry, engines and stage separation and recovery systems. Apart from apogee and expected landing location prediction, vehicle-environment interaction is also modeled.
TV Tokyo &mdash; Participation in a program of TV Tokyo December 2016, August 2017 in Japan
Participation in an educational Japanese TV-program by TV Tokyo called &ldquo;I want to go to Japan!&rdquo;, about the North-Japanese dialect.
Work Fugro ICT B.V. &mdash; Helpdesk Employee July 2018&ndash;August 2018 (2 months) in Leidschendam, The Netherlands Assisting with general tasks for which the servicedesk is responsible, in addition to developing software (in Python) that enables automating processes within the department at a regional scale. This entailed taking the lead in developing major ICT campaigns including, but not limited to, a region-wide ICT asset replacement campaign and the construction of a comprehensive database cataloging the software and hardware inventory of Fugro NL (The Netherlands, Belgium and Africa) both by person and subsidiary.
Qualifications Test of English as a Foreign Language (TOEFL iBT) &mdash; 117/120 November 2019.
Japanese Language Proficiency Test &mdash; N1 Level August 2017, 93rd percentile. Advanced level Japanese language proficiency.
International Baccalaureate &mdash; Higher Level English July 2017, 6/7 points.
Cambridge English Certificate in Advanced English &mdash; Level A (CEFR Level C2) July 2015. Advanced level English mastery.
Awards NASA &mdash; NASA LEAPFROG Software Competition Winner August 2021.
Awarded as part of the Artemis Student Challenges. More information may be found at https://leapfrog.isi.edu/.
Engineering Council &mdash; Society Member of the Month September 2019.
Awarded by the Engineering Council of the University of Illinois at Urbana-Champaign &ldquo;for hard work and dedication to the College of Engineering and Illinois Space Society.&rdquo;
Embassy of Japan in the Netherlands &mdash; 30th Japanese Speaking Contest, Grand Prize March 2017.
Grand Prize at the 30th Japanese Speaking Contest (five minute speech in Japanese).
Skills Languages Dutch: Fluent in word and writing English: Fluent in word and writing Japanese: Fluent in word and writing Arabic: Average in word and writing French: Average in word and writing Computer skills Basic CSS, XML, Ada 2012
Intermediate Ruby, OpenFOAM, MOOSE
Extensive Microsoft Office, Adobe Creative Suite (Photoshop, Illustrator, After Effects), Microsoft Windows, Linux, HTML, JavaScript, C/C++, Haxe, Python, bash, LaTeX.
Python: Extensive experience, both in the capacity of a scripting language coupled with high-performance compiled (C/C++) libraries, as well as standalone usage. C/C++: Experience developing high-performance control software subject to stringent resource constraint, both on dedicated Linux machines, as well as on embedded system. See the Lodestar Engine project for more information on a real-time control library that I am currently developing. ROS/Gazebo: Experience in controlling simulated systems in a software-in-the-loop fashion using a combination of ROS and Gazebo; see my achievements in the NASA LEAPFROG competition. I also have extensive experience implementing controllers in ROS on hardware systems, both in C++ as well as externally through Python on a remote control station. MATLAB: Extensive experience with MATLAB, its control and system identification packages (MPC, wavelets, reinforcement learning, etc.), as well as external packages (CORA, YALMIP, etc.). `}),e.add({id:3,href:"/docs/gincy/",title:"Gincy -- Guidance, Navigation & Control",content:`Introduction A.
First Section `}),e.add({id:4,href:"/docs/projects/",title:"Projects",content:`Projects Reading time: 6 minutes and 24 seconds
Current projects MarginDx Real-time intraoperative assessment of cancer margins using advanced optical imaging and robotics techniques. Overview Margin Diagnostics (MarginDx), funded through the Advanced Research Funding Agency for Health (ARPA-H) Precision Surgical Interventions (PSI) program, combines optical imaging technologies with AI screening tools to ensure, in real time, that tumor tissue and cells are completely removed during surgery.
Individual Research Contributions As the robo-optics lead, I am responsible for developing fundamental techniques and hardware required to bridge the gap between control theory and robotics, and biophotonics in in vivo imaging to operate under the effects of tissue deformation and motion. The project aims to develop a state-of-the-art device for high-resolution intraoperative optical imaging to enable cell-level identification of cancer margins and other forms of pathology, by leveraging nonlinear optical techniques and optical coherence tomography, coupled by adaptive precision robotic position and control. As part of my role, I have made the following contributions to the project:
Overview of the handheld and robotic components of the MarginDx system. I am responsible for the co-registration of images and pose between the handheld and robotic data, as well as for the complete robotic position and microscopic scanning hardware and software. Spatiotemporal Distortion Mitigation for Low-Rate Single-Pixel Imaging in Fast Dynamic Large-Area Microscopy ↕ Developed novel approaches to mitigate temporal aliasing and motion-induced distortions in single-pixel and line-scan-based confocal imaging systems, addressing extreme scale separations between pixel dwell time and scanning motion speed. Enabled high-resolution, large-area imaging of unstructured surfaces, facilitating the translation of confocal microscopy techniques (e.g., OCT, fluorescence imaging, nonlinear optics) to applications such as intraoperative diagnosis, material testing, and portable biological sensors. Leveraged control theory to model scan mirror and exogenous motion uncertainties, enabling maximum likelihood reconstruction of anti-aliased images under spatiotemporal aliasing scenarios. Introduced high-resolution pose estimation for handheld imaging probes using electromagnetic tracking systems with multiple distributed sensors. Pioneered a real-time GPU-accelerated framework for low-rate, high-resolution imaging in dynamic settings with motion uncertainty, marking a first in the field. Soft Body Deformation Compensation and Reconstruction using Intrinsic Elastography through Contact-Based Imaging ↕ Developed a novel framework to compensate for soft tissue deformation during contact-based imaging, enabling accurate intraoperative microscopic diagnosis by preserving spatial fidelity under mechanical loading. Introduced intrinsic elastography techniques to estimate tissue elasticity in real-time, leveraging the imaging probe&rsquo;s contact force, optical coherence tomography imaging features, and deformation dynamics inferred through dynamic loading to reconstruct undistorted tissue morphology. Designed algorithms to model and correct for nonlinear tissue responses, ensuring robust reconstruction of microscopic features in the presence of varying contact pressures and probe orientations. Integrated electromagnetic tracking systems with multi-sensor 6-DOF pose estimation to monitor probe-tissue interactions, providing real-time feedback for deformation compensation and elastographic mapping. Demonstrated the application of this approach in intraoperative settings, enabling high-resolution imaging of soft tissues (e.g., breast, liver, and skin) for precise pathological assessment and surgical guidance, in addition to enabling mechano-optical palpation for pathology detection. One-Shot Object Manipulation and Intrinsic Elastography through Visuo-Tactile Markers ↕ Pioneered the concept of visuo-tactile markers, combining 3D-printed relief tags with Aruco marker patterns to enable simultaneous vision-based navigation, robotic grasping, and precision tactile manipulation using GelSight Mini sensors. Developed a non-intrusive framework for one-shot object manipulation, allowing both robotic and human use without obstructing tool functionality, particularly useful in surgical and industrial settings. Enabled indirect intrinsic elastography by integrating force sensors on robotic manipulators with visuo-tactile markers, providing real-time measurement of tool pressure and deflection for precise soft tissue characterization and pressure-sensitive tool manipulation. Demonstrated the application of these markers in surgical instruments, enhancing robotic-assisted surgery through improved tool localization, grasp stability, and tissue interaction feedback. Validated the approach in diverse scenarios, including delicate object manipulation and intraoperative settings, showcasing its versatility and robustness in dynamic environments. Semantic Image--Pose Matching for Soft Body Deformation Mitigation in Low-Rate Single-Pixel Fast Dynamic Large-Area Microscopy ↕ Developed a novel framework leveraging multimodal image-text embeddings based on VisualBERT/CLIP and hierarchical navigable small worlds (HNSW) search to enable robust pose-informed image matching for unstructured scanning on soft body surfaces. Introduced transformer-based semantic descriptors as an alternative to classical feature-based methods (e.g., SIFT, SURF), overcoming limitations in multimodal settings with significant image attenuation across sequential scans. Combined spatial location tagging from electromagnetic (EM) trackers with semantic embeddings to enable rapid 3D image reconstruction and comparison, even among disparate datasets, using techniques such as 3D Gaussian splatting. Enabled seamless interplay between coarse handheld scanning and high-precision robotic scanning, facilitating information transfer in multimodal soft body imaging scenarios without requiring extensive pre-processing or calibration. Demonstrated the framework&rsquo;s effectiveness in mitigating soft tissue deformation during low-rate single-pixel imaging, ensuring accurate large-area microscopy under varying pressure and pose uncertainty conditions. Recessed Augmented Reality Markers (RAMs) Enabling one-shot precision manipulation of everyday objects using visual and tactile sensing. Recessed AR Markers (RAMs) provide a new way to enable precision robotic interactions with everyday objects, while still keeping them usable by humans—without the need for reinforcement learning. These markers have been validated in practice using GelSight Mini sensors, with a manuscript detailing these techniques currently under preparation.
3D printed visuotactile recessed AR markers (RAMs). Rapid SIFT-based feature matching with database markers after preprocessing. Spatiotemporal grasp tracking using RAMs and adaptive Savitzy-Golay filtering. Lodestar C++ digital guidance, navigation and control framework Lodestar provides a user friendly platform-agnostic framework for real-time linear control of dynamic systems.
Overview Language: C++11 / Python (bindings) License: BSD-3 Status: In active development. Website: https://lodestarengine.org ; https://theory.ldstr.dev . The Lodestar framework [1] consists of several templates that allow for control of linear discrete time systems. The following features are implemented:
Discrete-time linear time invariant systems modeling and control: Template-based object oriented framework for arbitrary finite dimensional linear systems Linear Quadratic Regulation (LQR) Linear Quadratic Estimation/Classical Kalman Filter (LQE/KF) Planned features The following capabilities are planned for Lodestar in the near future:
Continuous to discrete time zero-order hold conversion Recursive algebraic Riccati equation (ARE) solver Recursive Least Squares (RLS) system identification Single-input single-output (SISO) Generalized Predictive Control (GPC) Spatial value functions (SVF) based guidance and path planning [2] Real-time plotting and performance evaluation (impulse, unit step repsonse, Bode/Nyquist plots) frontend Google Protocol Buffers-based message passing interface for real-time logging and command I/O interface for common sensors (e.g., IMUs, barometers, time-of-flight sensors) and servos (e.g., solenoids, brushless DC motors). Links Lodestar is powered by: Eigen: http://eigen.tuxfamily.org/ neither: https://github.com/LoopPerfect/neither Related projects: SLICOT (Subroutine Library in Systems and Control Theory): http://slicot.org/ Control Toolbox: https://github.com/ethz-adrl/control-toolbox References [1] H. El-Kebir, J. Bentsman, and M. Ornik, &ldquo;Lodestar: An Integrated Embedded Real-Time Control Engine,&rdquo; in 2023 Conference on Control Technology and Applications. Bridgetown, Barbados: IEEE, 2023.
[2] Mettler, B., Dadkhah, N., and Kong, Z. “Agile Autonomous Guidance Using Spatial Value Functions.” Control Engineering Practice, Vol. 18, No. 7, 2010, pp. 773–788. doi:10.1016/j.conengprac.2010.02.013.
Knifefish A light-weight framework for robotic electrosurgery Knifefish is a framework for real-time control and simulation of electrosurgical processes, allowing for sensor data processing and feedback control.
Overview Language: C++11 License: TBD Status: In active development Past/shelved projects Stratagem3D A light-weight web-based game engine for 3D turn-based strategy games Overview Language: Haxe/Kha License: TBD Status: Shelved Extendible Orbit System 3D (EOS3D) Lightweight orbital mechanics calculation and visualization suite based on matplotlib Overview Language: Python License: MIT Status: Suspended The eos3d library is a lightweight orbital mechanics calculation and visualization suite based on matplotlib. It includes orbit visualization, SPACETRACK Two-Line Element retrieval and current satellite position visualization, Solar System orbits and planetary position visualizations and real-time n-body simulations.
Documentation The documentation of eos3d-mpl may be downloaded via the following link: documentation.
`}),e.add({id:5,href:"/docs/research/",title:"Research",content:`Research Reading time: 4 minutes and 16 seconds
This section has not been updated recently, but will be soon (02/2025). Please refer to my Projects page for more recent info. Active research areas Motion mitigation and spatiotemporal anti-aliasing technique for low-rate imaging modalities to enable wide-area single-pixel bio-imaging for intraoperative use. This includes the development of techniques to accurately track camera pose in real-time, as well as approaches to account for the scan dynamics of galvo-based line scan cameras to account for inter-pixel shifts. Furthermore, to enable bio-imaging on deformable tissue, I am actively researching image-guided techniques to reconstruct tissue geometry and morphology.
Online guaranteed long-term reachability computation and viability analysis for systems experiencing impairment (diminishment of control authority, changed dynamics, impairment of sensor readings). In particular, theory that applies directly to complex nonlinear systems is the focus of this research area. Applications to safe autonomous control are currently in development, focusing on notions from viability theory, contraction theory, and differential inclusions; this latter work is a collaboration with Prof.~Eduardo Sontag. This work enables safe adaptive control of systems in cases of rapidly changing dynamics, deliberate introduction of model order reductions, or incorrect/incomplete sensor readings, domains that are not covered by today&rsquo;s robust adaptive control techniques.
Safe adaptive control and identification of partial differential equations (PDEs), with applications to autonomous electrosurgery. The goal is to develop tractable algorithms for model predictive control of PDEs, extending to real-time adaptation with robustness guarantees. This work ties into control of electrosurgical processes, where tissue biophysics are identified in real-time to support autonomous minimally-invasive surgical action. A key thrust here is also the incorporation of novel sensors, including microscopic thermography, near-infrared stereo vision, and tactile sensors to endow autonomous surgical systems with the means of making safe informed decisions. Implications of these techniques are vast, endowing robotic systems with critical feedback mechanisms that are crucial in advancing the field of robot-assisted healthcare in the operating room. This work is performed in tight collaboration with clinicians, including Dr. Richard Berlin, MD, a Level-1 trauma surgeon with the Carle Hospital System, as well as Dr. Pier Giulianotti and Dr. Enrico Benedetti of the Surgical Innovation and Training Lab (SITL) at the University of Illinois at Chicago.
Fault detection, identification, and recovery (FDIR) on single- and multi-agent systems with \\emph{simultaneous} sensor and actuator faults. This is an ongoing collaboration with the Jet Propulsion Laboratory&rsquo;s Maritime and Multi-agent Autonomy (347N) group; these results have garnered direct attention from key stakeholders in the Office of the Chief Technologist and the Autonomous Systems Division at JPL.
Development of fundamental theory for controlled partial differential-algebraic equations (PDAEs) and hybrid partial differential equations, with the goal of developing unified theory for real-time robust adaptive control of this class of systems.
Publications Peer-reviewed publications Journal Papers B. Petrus*, Z. Chen*, H. El-Kebir*, J. Bentsman, and B.G. Thomas, &ldquo;Solid Boundary Output Feedback Control of The Stefan Problem: The Enthalpy Approach,&rdquo; IEEE Transactions on Automatic Control, 2021. Revised version submitted for publication.
H. El-Kebir and Melkior Ornik, &ldquo;Online Guaranteed Reachable Set Approximation for Systems with Changed Dynamics and Control Authority,&rdquo; IEEE Transactions on Automatic Control, 2021. Submitted for review.
S. Zhang, J. Bentsman, X. Lou, C. Neuschaefer, Y. Lee, and H. El-Kebir, &ldquo;Multiresolution GPC-Structured Control of a Single-Loop Cold-Flow Chemical Looping Testbed,&rdquo; Energies, vol. 13, p. 1759, Apr. 2020. https://doi.org/10.3390/en13071759 (open access).
H. El-Kebir, M.C. Mazza, and J.C.M. Liu, &ldquo;Perceptions of Open Innovation at CERN: An Explorative Study,&rdquo; CERN IdeaSquare Journal of Experimental Innovation, vol. 3, pp. 57–61, 2019. https://doi.org/10.23726/cij.2019.945 (open access).
* Shared co-first authorship.
Conference Papers H. El-Kebir*, T. Shafa*, A. Purushottam, M. Ornik, and A. Soylemezoglu, &ldquo;High-Frequency Vibration Reduction for Unmanned Ground Vehicles on Unstructured Terrain,&rdquo; in Proc. of 2021 Modelling &amp; Simulation of Autonomous Systems (MESAS'21) Conference, 2021. To appear in print. (open access) H. El-Kebir, Y. Lee, R. Berlin, E. Benedetti, P. C. Giulianotti, L. P. Chamorro, and J. Bentsman, &ldquo;Online Hypermodel-based Path Planning for Feedback Control of Tissue Denaturation in Electrosurgical Cutting,&rdquo; in Proc. of 11th IFAC Symposium on Biological and Medical Systems, Ghent, Belgium, 2021. To appear in print. (open access) H. El-Kebir and M. Ornik, &ldquo;Online Inner Approximation of Reachable Sets of Nonlinear Systems with Diminished Control Authority,&rdquo; in Proc. of 2021 Conference on Control and Its Applications, (Philadelphia, PA), pp. 9–16, Society for Industrial and Applied Mathematics, 2021. https://doi.org/10.1137/1.9781611976847.2 (open access) H. El-Kebir and J. Bentsman, &ldquo;PDE-Based Modeling and Non-collocated Feedback Control of Electrosurgical-Probe/Tissue Interaction,&rdquo; in 2021 American Control Conference (ACC). New Orleans, LA, USA: IEEE, 2021, pp. 4045–4050. https://doi.org/10.23919/ACC50511.2021.9483240 (open access) * Shared co-first authorship.
Non-peer-reviewed publications Conference papers El-Kebir, H., &amp; Ornik, M. (2020). In-flight Air Density Estimation and Prediction for Hypersonic Flight Vehicles. In 23rd AIAA International Space Planes and Hypersonic Systems and Technologies Conference. https://doi.org/10.2514/6.2020-2412 (open access) Coverage 2021 Our achievements in the NASA LEAPFROG challenge were showcased by the Department of Aerospace Engineering at UIUC: Illinois team wins NASA&rsquo;s LEAPFROG challenge.
2020 My research on in-flight air density estimation was featured by the Department of Aerospace Engineering at UIUC: Predicting in-flight air density for more accurate landing | Aerospace at Illinois.
Talks CSLSC21 I gave a talk on my research on online guaranteed reachability reachable computation at the University of Illinois&rsquo; Coordinated Science Laboratory Student Conference 2021, during the Optimization, Control, and Reinforcement Learning Technical Session held on February 24, 2021:
The slides can be accessed here . A simple code example of the approach presented can be found on Github here .
`}),e.add({id:6,href:"/posts/sixel-graphics/",title:"Sixel Graphics",content:`Reading time: 1 minutes and 6 seconds.
What are Sixels? VT330/VT340 Programmer Reference Manual, Ch. 14 Sixel Graphics.
Escape Character DCS (Device Control String): 0x90
OR
ESC+P: 0x1B + 0x50
Termination ST (String Terminator) 0x0
OR
ESC+\\: 0x1B + 0x5C
Control Functions LSB (least-significant bit) at the top.
&gt;&gt;&gt; 0x90 0x40 = 0x90 0b000001 ■ □ □ □ □ □ &gt;&gt;&gt; 0x90 0x74 = 0x90 0b110100 ■ □ ■ □ ■ ■ &gt;&gt;&gt; sixel2str = lambda i : &#39;\\n&#39;.join([&#39;■&#39; if (((i-0x3F) &gt;&gt; j) &amp; 1) else &#39;□&#39; for j in range(6)]) &gt;&gt;&gt; sixels2str = lambda il : &#39;\\n&#39;.join([&#39; &#39;.join(l) for l in zip(*[[c for c in sixel2str(i) if c != &#39;\\n&#39;] for i in il])]) &gt;&gt;&gt; print(sixel2str(0x74)) ■ □ ■ □ ■ ■ # Brian Kernighan&#39;s algo. def count_bits(n): count = 0 while n: n &amp;= (n-1) count += 1 return count countbits = lambda n : (count := 0, (while n: (n &amp;= (n-1)), count += 1), count)[-1] for i, c in enumerate(range(ord(&#39;?&#39;), ord(&#39;?&#39;)+64)): print(f&#34;|\`{bin(i).replace(&#39;0b&#39;,&#39;&#39;).rjust(6, &#39;0&#39;)}\`|\`{chr(c)}\`|\`{hex(c).upper().replace(&#39;X&#39;,&#39;x&#39;)}\`|&#34;) Sixel Char Hex 000000 ? 0x3F 000001 @ 0x40 000010 A 0x41 000011 B 0x42 000100 C 0x43 000101 D 0x44 000110 E 0x45 000111 F 0x46 001000 G 0x47 001001 H 0x48 001010 I 0x49 001011 J 0x4A 001100 K 0x4B 001101 L 0x4C 001110 M 0x4D 001111 N 0x4E 010000 O 0x4F 010001 P 0x50 010010 Q 0x51 010011 R 0x52 010100 S 0x53 010101 T 0x54 010110 U 0x55 010111 V 0x56 011000 W 0x57 011001 X 0x58 011010 Y 0x59 011011 Z 0x5A 011100 [ 0x5B 011101 \\ 0x5C 011110 ] 0x5D 011111 ^ 0x5E 100000 _ 0x5F 100001 \` 0x60 100010 a 0x61 100011 b 0x62 100100 c 0x63 100101 d 0x64 100110 e 0x65 100111 f 0x66 101000 g 0x67 101001 h 0x68 101010 i 0x69 101011 j 0x6A 101100 k 0x6B 101101 l 0x6C 101110 m 0x6D 101111 n 0x6E 110000 o 0x6F 110001 p 0x70 110010 q 0x71 110011 r 0x72 110100 s 0x73 110101 t 0x74 110110 u 0x75 110111 v 0x76 111000 w 0x77 111001 x 0x78 111010 y 0x79 111011 z 0x7A 111100 { 0x7B 111101 | 0x7C 111110 } 0x7D 111111 ~ 0x7E `}),e.add({id:7,href:"/posts/signed-distance-functions-collision/",title:"Collisions with Signed Distance Functions",content:`Reading time: 0 minutes and 1 second.
Introduction `}),e.add({id:8,href:"/posts/signed-distance-functions/",title:"On Signed Distance Functions",content:"Reading time: 16 minutes and 34 seconds.\nIntroduction Formal Definition In more rigorous terms, signed distance functions (aka SDFs) are defined as functions that satisfy a particular form of the eikonal equation1. The general eikonal equation is of the form:\n$$||\\nabla u(x)|| = \\frac{1}{f(x)},\\quad x \\in \\Omega,$$\nwhere \\(\\Omega\\) is an open set in \\(\\mathbb{R}^n\\), and \\(f(x) : \\mathbb{R}^n \\to \\mathbb{R}\\) is a function with positive values. In physical terms, the solution \\(u(x)\\) to this nonlinear partial differential equation can be interpreted as the shortest time needed to travel from the boundary \\(\\partial\\Omega\\) to \\(x \\in \\Omega\\), with \\(f(x)\\) being the speed at \\(x\\).\nNow, for a signed distance function, the speed will be unity throughout the domain, and \\(x\\) will not be constrained to lie in \\(\\Omega\\). With \\(f(x) \\equiv 1\\), the time to travel from the boundary \\(\\partial\\Omega\\) to any \\(x \\in \\mathbb{R}^n\\) will simply be equal to the shortest distance from \\(x\\) to \\(\\partial\\Omega\\). We may then obtain a signed distance function \\(\\textsf{sdf}(x)\\), provided that the following conditions are satisfied:\nEikonal equation: $$\\tag{EE} ||\\nabla\\textsf{sdf}(x)|| = 1,\\quad x \\in \\mathbb{R}^3,$$ Zero distance at the boundary: $$\\tag{BZ} \\textsf{sdf}(x) = 0,\\quad \\forall \\ x \\in \\partial\\Omega,$$ Inward-facing normal at the boundary: $$\\tag{IN} \\nabla\\textsf{sdf}(x) = N(x),\\quad \\forall \\ x \\in \\partial\\Omega.$$ If these conditions are satisfied, a function representing the shortest Euclidean distance from \\(x \\in \\mathbb{R}^n\\) to a surface \\(\\partial\\Omega \\subset \\Omega \\subset \\mathbb{R}^n\\) is obtained. This distance is signed, meaning that when \\(x \\in \\Omega\\), \\(\\textsf{sdf}(x)\\) is nonnegative (\\(\\geq 0\\)), while for \\(x \\in \\mathbb{R}^n \\setminus \\Omega\\), \\(\\textsf{sdf}(x)\\) it is negative (\\(&lt; 0\\)).\nTo prove that these conditions produce a distance field (disregarding the sign for now), consider points \\(x, y\\) on a path of steepest-descent, that is a path along gradient \\(\\nabla \\textsf{sdf}\\). As established previously \\(||\\nabla \\textsf{sdf}(x)|| = 1\\) (condition (EE)). The Euclidean distance between these two points will be at most equal to the length of the steepest-descent path, denoted here by \\(\\gamma\\). We find that:\n$$ \\tag{G} ||x - y|| \\leq |\\gamma| = \\left| \\int_\\gamma \\nabla \\textsf{sdf}(\\xi) \\cdot \\mathrm{d}s \\right| = |\\textsf{sdf}(x) - \\textsf{sdf}(y)|. $$\nThen, considering a straight line path from \\(x\\) to \\(y\\), i.e., the shortest path between the two points, denoted here by \\(\\zeta\\), we find the following bound:\n$$ \\tag{Z} \\begin{aligned} ||x - y|| &amp;= |\\zeta| = \\int_\\zeta ||\\nabla \\textsf{sdf}(\\xi)|| \\ ||\\mathrm{d}s|| \\cr &amp;\\geq \\left| \\int_\\zeta \\nabla \\textsf{sdf}(\\xi) \\cdot \\mathrm{d}s \\right| = |\\textsf{sdf}(x) - \\textsf{sdf}(y)|. \\end{aligned} $$\nThe latter inequality is proven straightforwardly by application of the Cauchy&ndash;Schwartz inequality.\nProof ↕ Consider the Cauchy&ndash;Schwartz inequality as applied to two vectors \\(u, v \\in \\mathbb{R}^n\\):\n$$ \\tag{C&ndash;S} |u \\cdot v| \\leq ||u|| \\ ||v||. $$\nWe found \\(|\\zeta|\\) to be equal to $$ \\int_\\zeta ||\\nabla \\textsf{sdf}(\\xi)|| \\ ||\\mathrm{d}s||. $$\nRecalling the definition of the signed distance function, we have that \\(|\\nabla \\textsf{sdf}(\\xi)| = 1, \\forall \\ \\xi \\in \\mathbb{R}^n \\) (condition (EE)). The following can then be shown by invoking (C&ndash;S):\n$$ \\begin{aligned} \\int_\\zeta ||\\nabla \\textsf{sdf}(\\xi)|| \\ ||\\mathrm{d}s|| &amp;= \\int_\\zeta ||1|| \\ ||\\mathrm{d}s|| \\cr &amp;\\geq \\left|\\int_\\zeta 1 \\cdot \\mathrm{d}s\\right| = \\left|\\int_\\zeta \\nabla \\textsf{sdf}(\\xi) \\cdot \\mathrm{d}s\\right| \\cr &amp;= |\\textsf{sdf}(x) - \\textsf{sdf}(y)|. \\end{aligned} $$\n□\nCombining inequalities (G) and (Z), we find that the following must hold:\n$$ ||x - y|| = |\\textsf{sdf}(x) - \\textsf{sdf}(y)|. $$\nFinally, from the boundary conditions ((BZ) and (IN)), it is ensured that the function will in fact be a signed distance function for a given object \\(\\Omega\\).\nDifferentiability Since for certain geometries, the derivative at a point where there exist multiple minima (e.g., along the diagonal of a rectangle), is not defined. The points at which this is true are interesting in their own right; as a matter of fact, this set of points is known as the medial axis, or when this set is closed, the cut locus.\nIn the box below, an example of this phenomenon is given for a 2D square SDF.\nDifferentiability Example: Square ↕ Let us take one of the signed distance functions presented below to show that these points do indeed exist. Take for example the rectangle SDF, which can be written on one line as follows: $$ \\begin{aligned} \\textsf{sdf}(p, b) &amp;= \\sqrt{\\max(|p_x|-b_x, 0)^2 + \\max(|p_y|-b_y, 0)^2} \\cr &amp;+ \\min(\\max(|p_x|-b_x, |p_y|-b_y), 0). \\end{aligned} $$\nTaking the derivative w.r.t. \\(x\\), where we replaced the absolute value by an equivalent expression (\\(|x| = \\sqrt{x^2}\\) for \\(x \\in \\mathbb{R}\\)), we obtain: $$ \\begin{aligned} \\frac{\\partial \\textsf{sdf}(x, y, w, h)}{\\partial x} &amp;= \\left(\\begin{cases} \\frac{x}{\\sqrt{x^2}} &amp; \\text{if } \\sqrt{x^2} &lt; w \\text{ and } h + \\sqrt{x^2} \\geq w + \\sqrt{y^2} \\cr 0 &amp; \\text{else} \\end{cases}\\right) \\cr &amp;+ \\frac{ \\max(0, -w + \\sqrt{x^2}) \\left(\\begin{cases} \\frac{x}{\\sqrt{x^2}} &amp; \\text{if } \\sqrt{x^2} &gt; w \\cr 0 &amp; \\text{else} \\end{cases}\\right) }{ \\sqrt{\\max(0, -w + \\sqrt{x^2})^2 + \\max(0, -h + \\sqrt{y^2})^2} }, \\end{aligned} $$\nwhere \\(p = [\\begin{smallmatrix} x &amp; y \\end{smallmatrix}]^\\intercal\\) and \\(b = [\\begin{smallmatrix} w &amp; h \\end{smallmatrix}]^\\intercal\\). For ease of exposition, we will consider a particular rectangle, namely a square (\\(w = h = l\\)). After some simplification we find: $$ \\begin{aligned} \\frac{\\partial \\textsf{sdf}(x, y, l)}{\\partial x} &amp;= \\left(\\begin{cases} \\frac{x}{\\sqrt{x^2}} &amp; \\text{if } \\sqrt{y^2} \\leq \\sqrt{x^2} &lt; l \\cr 0 &amp; \\text{else} \\end{cases}\\right) \\cr &amp;+ \\frac{ \\max(0, -l + \\sqrt{x^2}) \\left(\\begin{cases} \\frac{x}{\\sqrt{x^2}} &amp; \\text{if } \\sqrt{x^2} &gt; l \\cr 0 &amp; \\text{else} \\end{cases}\\right) }{ \\sqrt{\\max(0, -l + \\sqrt{x^2})^2 + \\max(0, -l + \\sqrt{y^2})^2} }. \\end{aligned} $$\nNow things start to become a little tricky. To able to make sense of all the \\(\\min\\)s and \\(\\max\\)es, we need to replace them with equivalent expressions in terms of Heaviside unit step functions (\\(H(x)\\)): $$ H(x) \\equiv \\begin{cases} 0 &amp;\\text{for } x &lt; 0 \\cr 1 &amp;\\text{for } x \\geq 0 \\end{cases}. $$ It can readily be shown that: $$\\begin{aligned} \\max(a,b) &amp;= H(a-b)a + [1-H(a-b)] b = H(a-b)a + H(b-a) b, \\cr \\min(a,b) &amp;= H(b-a)a + [1-H(b-a)] b = H(b-a)a + H(a-b) b. \\end{aligned}$$\nWe shall only consider the second term in the partial derivative, since the first term is known to have a limit to zero, and will therefore be determinate within our region of interest. Through substitution of the previous expressions, we obtain: $$\\begin{aligned} D(x, y, l) &amp;= \\frac{D_n(x, l)}{D_d(x,y,l)} \\cr &amp;= \\frac{ x (-l + \\sqrt{x^2}) H(-l + \\sqrt{x^2})^2 }{ \\sqrt{x^2}\\sqrt{(l-\\sqrt{x^2})^2 H(-l + \\sqrt{x^2}) + (l-\\sqrt{y^2})^2 H(-l+\\sqrt{y^2})} }. \\end{aligned}$$\nFor a square, if \\(x=y\\) and \\(|x| &lt; l\\), it is known that there are to edges that lie equally close to \\((x,y)\\). To prove this, we will use L&rsquo;Hôpital&rsquo;s rule to show that now derivative exists for \\(x &lt; l\\). Roughly speaking, L&rsquo;Hôpital&rsquo;s rule states that for a function of the form \\(f(x)/g(x)\\), its limit for \\(x \\rightarrow c\\) exists only if \\(\\lim_{x \\rightarrow c} f^\\prime(x)/g^\\prime(x)\\) exists. In fact, in such a case we will find: $$ \\lim_{x \\rightarrow c} \\frac{f(x)}{g(x)} = \\lim_{x \\rightarrow c} \\frac{f^\\prime(x)}{g^\\prime(x)}. $$\nLet us take \\(f(x) \\equiv D_n(x, l)\\) and \\(g(x) \\equiv D_d(x, x, l)\\). Computing the derivatives, we obtain: $$\\begin{aligned} f^\\prime(x) &amp;= 2 \\sqrt{x^2} \\left(\\sqrt{x^2}-l\\right) \\delta \\left(\\sqrt{x^2}-l\\right) H \\left(\\sqrt{x^2}-l\\right) \\cr &amp;+\\frac{\\left(2 x^2-l \\sqrt{x^2}\\right) H \\left(\\sqrt{x^2}-l\\right)^2}{\\sqrt{x^2}}, \\end{aligned}$$\n$$\\begin{aligned} g^\\prime(x) &amp;= \\frac{\\sqrt{x^2} \\left(\\frac{x \\left(l-\\sqrt{x^2}\\right)^2 \\delta \\left(\\sqrt{x^2}-l\\right)}{\\sqrt{x^2}}+\\frac{2 x \\left(\\sqrt{x^2}-l\\right) H \\left(\\sqrt{x^2}-l\\right)}{\\sqrt{x^2}}\\right)}{2 \\sqrt{2} \\sqrt{\\left(l-\\sqrt{x^2}\\right)^2 H \\left(\\sqrt{x^2}-l\\right)}} \\cr &amp;+\\frac{\\sqrt{2} x \\sqrt{\\left(l-\\sqrt{x^2}\\right)^2 H \\left(\\sqrt{x^2}-l\\right)}}{\\sqrt{x^2}}. \\end{aligned}$$\nWhile \\(f^\\prime(x)\\) appears to hold no singularities at first glance (other than the Dirac delta, which is not triggered since \\(x &lt; l\\)), \\(g^\\prime(x)\\) does have a clear singularity. For its second term, it is clear that the Heaviside function in the denominator will always be zero on the interior, giving cause to a singularity of the form \\(1/\\sqrt{0}\\). With this, we have shown that on the interior diagonals, the derivative SDF of a square shape will indeed not exist. (Since the shape is symmetric in both axes, a derivation in \\(y\\) will yield the exact same result.)\nBoolean Operations (Combinations) In order to create more complex shapes, it is reasonable to want to run combination operatons on primitives. To get a better handle on what these operations might be, consider the following basic examples:\nUnion Difference Intersection Below, we consider these, and other, operations on two shapes (sets) \\(P\\) and \\(Q\\), resulting in a set \\(R\\). The SDFs belonging to these sets will be subscripted by the name of the set to which they belong. For more information on this topic, see 2, 3.\nUnion $$ R = P \\cup Q \\Leftrightarrow \\textsf{sdf}_R (p) = \\min[\\textsf{sdf}_P (p), \\textsf{sdf}_Q (p)]. $$\nIntersection $$ R = P \\cap Q \\Leftrightarrow \\textsf{sdf}_R (p) = \\max[\\textsf{sdf}_P (p), \\textsf{sdf}_Q (p)]. $$\nNote: This does not produce a proper SDF on the interior. Difference $$ R = P \\setminus Q \\Leftrightarrow \\textsf{sdf}_R (p) = \\max[\\textsf{sdf}_P (p), -\\textsf{sdf}_Q (p)]. $$\nNote: This does not produce a proper SDF on the interior. Symmetric Difference Also known as the disjunctive union. Expressed in words, this is the union of the difference of the two sets.\n$$ R = P \\oplus Q = (P \\setminus Q) \\cup (Q \\setminus P) $$ $$\\Leftrightarrow$$ $$ \\textsf{sdf}_R (p) = \\min\\{\\max[\\textsf{sdf}_P (p), -\\textsf{sdf}_Q (p)], \\max[\\textsf{sdf}_Q (p), -\\textsf{sdf}_P (p)]\\}. $$\nNote: This does not produce a proper SDF on the interior. Complement The complement of an SDF is simply its negative, since its interior then becomes its exterior.\n$$ R = P^\\complement \\Leftrightarrow \\textsf{sdf}_R (p) = -\\textsf{sdf}_P (p). $$\nThis does not produce a proper SDF on the interior? ↕ I bet you are puzzled as to why you won&rsquo;t get a proper SDF on using some of the combination operators introduced above. Let&rsquo;s shed some light on this by considering an intersection operator:\n$$ \\textsf{sdf}_R (p) = \\max[\\textsf{sdf}_P (p), \\textsf{sdf}_Q (p)]. $$\nNow, before we get to differentiate, let&rsquo;s try to get rid of that \\(\\max\\) function by introducing Heaviside unit step functions instead:\n$$ \\textsf{sdf}_R (p) = \\textsf{sdf}_P (p) H(\\textsf{sdf}_P (p) - \\textsf{sdf}_Q (p)) + \\textsf{sdf}_Q (p) [1 - H(\\textsf{sdf}_P (p) - \\textsf{sdf}_Q (p))]. $$\nNow, let&rsquo;s take the gradient of this to see if it satisfies the eikonal condition (cond. (EE)):\n$$ \\begin{aligned} [\\nabla \\textsf{sdf}_R (p)]_i &amp;= H_{P-Q} \\partial_i \\textsf{sdf}_P (p) + \\delta_{P-Q} \\textsf{sdf}_P (p) \\partial_i \\textsf{sdf}_{P-Q} (p) \\cr &amp;- \\delta_{P-Q} \\textsf{sdf}_Q (p) \\partial_i \\textsf{sdf}_{P-Q} (p) + (1 - H_{P-Q}) \\partial_i \\textsf{sdf}_Q (p), \\end{aligned} $$\nwhere we have introduced some compact but truthfully nasty shorthand:\n\\(H_{P-Q} \\equiv H(\\textsf{sdf}_P (p) - \\textsf{sdf}_Q (p))\\), \\(\\delta_{P-Q} \\equiv \\delta(\\textsf{sdf}_P (p) - \\textsf{sdf}_Q (p))\\), \\(\\textsf{sdf}_{P-Q}(p) \\equiv \\textsf{sdf}_P (p) - \\textsf{sdf}_Q (p)\\), \\(\\partial_i \\textsf{sdf}(p) \\equiv \\frac{\\partial \\textsf{sdf}(p)}{\\partial p_i}\\). Let&rsquo;s consider some point \\(p\\) where \\(\\textsf{sdf}_P (p) \\neq \\textsf{sdf}_Q (p)\\) (so as not to deal with the Dirac delta). We can can identify two cases: (1) \\(\\textsf{sdf}_{P-Q} (p) &gt; 0\\), and (2) \\(\\textsf{sdf}_{P-Q} (p) &lt; 0\\). Let&rsquo;s look at the first case:\n$$ [\\nabla \\textsf{sdf}_R (p)]_{i,1} = \\partial_i \\textsf{sdf}_P (p). $$\nHey, now that&rsquo;s cool: the gradient is exactly that of \\(\\textsf{sdf}_P\\), therefore satisfying the eikonal condition. It does not take much reasoning to find out that the same holds for case (2), except this time the gradient will correspond to that of \\(\\textsf{sdf}_Q\\). All things seem to point to a proper SDF &hellip; or is there a catch?\nThe catch There is indeed a catch; we have not considered the case where \\(\\textsf{sdf}_P (p) = \\textsf{sdf}_Q (p)\\). What we get is:\n$$ \\begin{aligned} [\\nabla \\textsf{sdf}_R (p)]_i &amp;= \\partial_i \\textsf{sdf}_P (p) \\cr &amp;+ \\delta_{P-Q} \\partial_i \\textsf{sdf}_{P-Q} (p) \\left( \\textsf{sdf}_P (p) - \\textsf{sdf}_Q (p) \\right), \\end{aligned} $$\nwhere \\(\\delta_{P-Q} = \\delta(0) = \\infty\\). Therefore, the norm of the gradient of this function is indeterminate, let alone equal to 1. For this very reason, we cannot say that the resulting function (after intersection) is a &lsquo;real&rsquo; SDF.\nWhat about the interior? All technicalities aside, it seems at first glance that there are no problems with the distance itself. We haven&rsquo;t taken a look at the interior yet though. While on the interior, the eikonal condition is satisfied, something arguably more important is violated: the shortest distance is not given.\nLet&rsquo;s do a little thought experiment: imagine two circles, with a spacing between the centers. Now take the difference between the two shapes: since we are taking the \\(\\max\\), the distance on the boundary will be given from the farthest circle, instead of the closest circle. Quite obviously, this is not the shortest distance, even though the sign matches. Now this will pose problems when raymarching on the interior, but a similar problem will not be encountered on the exterior, since the distance will monotonically decrease towards the center.\nTransformations Translation Consider a translation by distance \\(t \\in \\mathbb{R}^3\\). The translated SDF will be of the form:\n$$ \\textsf{sdf}_R (p) = \\textsf{sdf}_P (p - t). $$\nScaling We distinguish uniform and nonuniform scaling. In the first case, the scaling factor is the same across all axes, while in the latter case different scaling factors may be used on different axes.\nUniform Scaling For uniform scaling, consider a scaling factor \\(s \\in \\mathbb{R}_+\\), i.e, the positive orthant of \\(\\mathbb{R}\\). It can be shown that (see &lsquo;Derivations&rsquo; below):\n$$ \\textsf{sdf}_R (p) = \\textsf{sdf}_P (p/s) s . $$\nExample: Uniformly Scaled Sphere ↕ Consider the SDF of a sphere with radius \\(r\\), centered at the origin:\n$$ \\textsf{sdf}(p) = ||p|| - r = \\sqrt{p_x^2 + p_y^2 + p_z^2} - r. $$\nUniform scaling by a factor \\(s \\in \\mathbb{R}_+\\) would yield, as expected:\n$$ \\begin{aligned} \\textsf{sdf}_s (p) &amp;= (||p/s|| - r) s \\cr &amp;= (\\sqrt{p_x^2/s^2 + p_y^2/s^2 + p_z^2/s^2} - r) s \\cr &amp;= (\\sqrt{p_x^2 + p_y^2 + p_z^2}/s - r) s \\cr &amp;= \\sqrt{p_x^2 + p_y^2 + p_z^2} - r s = ||p|| - rs. \\end{aligned} $$\nHere, we simply obtained the SDF of a sphere of radius \\(r^\\prime = r s\\), which is equivalent to scaling the original SDF by a factor of \\(s\\). Clearly, the SDF is proper and the distance is not compressed/dilated. But what about a nonuniform scaling factor \\(s \\in \\mathbb{R}^3\\)?\nTaking the inverse of the transformation matrix \\(S\\), we find that when naively transforming \\(p\\) in the SDF we obtain:\n$$ \\begin{aligned} \\textsf{sdf}_S (p) &amp;= ||p \\oslash s|| - r \\cr &amp;= \\sqrt{p_x^2/s_x^2 + p_y^2/s_y^2 + p_z^2/s_z^2} - r, \\end{aligned} $$\nwhere &lsquo;\\(\\oslash\\)&rsquo; denotes componentwise division.\nAt first glance, there don&rsquo;t seem to be any problems with this. Note, however, that the distances obtained in this way do not correspond to the true distances. To see if this indeed is the case, let&rsquo;s verify the eikonal equation condition (cond. (EE)):\n$$ \\begin{aligned} ||\\nabla \\textsf{sdf}_s (p)|| &amp;= ||\\nabla (||p \\oslash s|| - r)|| \\cr &amp;= ||\\nabla (\\sqrt{p_x^2/s_x^2 + p_y^2/s_y^2 + p_z^2/s_z^2} - r)|| \\cr &amp;= \\left|\\left| \\begin{bmatrix} \\frac{p_x}{s_x^2} \\cr \\frac{p_y}{s_y^2} \\cr \\frac{p_z}{s_z^2} \\end{bmatrix}/\\sqrt{p_x^2/s_x^2 + p_y^2/s_y^2 + p_z^2/s_z^2}\\right|\\right| \\cr &amp;= \\frac{\\sqrt{p_x^2/s_x^4 + p_y^2/s_y^4 + p_z^2/s_z^4}}{\\sqrt{p_x^2/s_x^2 + p_y^2/s_y^2 + p_z^2/s_z^2}} \\cr &amp;\\stackrel{?}{\\equiv} 1. \\end{aligned} $$\nIt is straightforward to show, in this case, that this final assertion will only be true when \\(s_x = s_y = s_z = 1\\). This trivially corresponds to uniform scaling with a scaling factor of 1, which constitutes no change from the original SDF. Let us now apply a correction factor \\(c\\) to the SDF, such that we obtain \\(\\textsf{sdf}_{s,c} \\equiv \\textsf{sdf} (p \\oslash s) c\\). Leaving out much of the derivation, which is much the same as what was shown previously, we have:\n$$ \\begin{aligned} ||\\nabla \\textsf{sdf}_{s,c} (p)|| &amp;= ||\\nabla (||p \\oslash s|| - r) c|| \\cr &amp;= ||\\nabla (\\sqrt{p_x^2/s_x^2 + p_y^2/s_y^2 + p_z^2/s_z^2} - r) c|| \\cr &amp;= c \\frac{\\sqrt{p_x^2/s_x^4 + p_y^2/s_y^4 + p_z^2/s_z^4}}{\\sqrt{p_x^2/s_x^2 + p_y^2/s_y^2 + p_z^2/s_z^2}} \\cr &amp;\\stackrel{?}{\\equiv} 1. \\end{aligned} $$\nIf we take \\(s_x = s_y = s_z = s\\) and \\(c \\equiv s\\), we can show that:\n$$ \\begin{aligned} ||\\nabla \\textsf{sdf}_s (p)|| &amp;= s \\frac{\\sqrt{p_x^2/s^4 + p_y^2/s^4 + p_z^2/s^4}}{\\sqrt{p_x^2/s^2 + p_y^2/s^2 + p_z^2/s^2}} \\cr &amp;= s \\frac{\\sqrt{s^2}}{\\sqrt{s^4}} = s \\frac{s}{s^2} \\cr &amp;\\equiv 1. \\end{aligned} $$\nWith this, we have shown how proper uniform scaling can be achieved on a sphere.\nNonuniform Scaling As discussed in the &lsquo;Derivation&rsquo; box below, there is no straightforward solution to the nonuniform scaling problem that does not violate the eikonal equation condition. The next best &lsquo;solution&rsquo;, would be to obtain some sort of lower distance bound. This provides a straightforward approach to obtaining a lower bound to the scale surface, which will appear correctly when rendered, but does not have a proper SDF. More advantages are listed in the &lsquo;Derivation&rsquo; box below. For a similar discussion, see 4.\nHere, we consider a scaling factor \\(s \\in \\mathbb{R}_+^3\\). As a lower bound, we obtain:\n$$ \\textsf{sdf}_{s,\\text{min}} (p) = \\textsf{sdf} (p \\oslash s) s_\\text{min}, $$\nwhere \\(s_\\text{min}\\) is the smallest element of \\(s\\), and &lsquo;\\(\\oslash\\)&rsquo; denotes componentwise division.\nDerivation ↕ To be able to perform nonuniform scaling, a first idea would be to see if there is some function \\(c(p)\\) that would allow \\(\\textsf{sdf}_{s,c} (p) \\equiv ||\\nabla [\\textsf{sdf}(p \\oslash s) c(p)]||\\) to satisfy the eikonal equation condition.\nWith this idea in mind, let&rsquo;s apply it to an arbitrary nonuniformly scaled SDF:\n$$ \\begin{aligned} &amp; ||\\nabla \\left[\\textsf{sdf}(p \\oslash s) c(p) \\right]|| = \\cr &amp;\\left[\\left(\\textsf{sdf}(p \\oslash s) \\frac{\\partial c(p)}{\\partial p_x} + \\frac{c(p) \\frac{\\partial\\textsf{sdf}(p \\oslash s)}{\\partial p_x}}{s_x}\\right)^2\\right. \\cr &amp;\\left. + \\left(\\textsf{sdf}(p \\oslash s) \\frac{\\partial c(p)}{\\partial p_y} + \\frac{c(p) \\frac{\\partial \\textsf{sdf}(p \\oslash s)}{\\partial p_y}}{s_y}\\right)^2\\right. \\cr &amp;\\left. + \\left(\\textsf{sdf}(p \\oslash s) \\frac{\\partial c(p)}{\\partial p_z} + \\frac{c(p) \\frac{\\partial \\textsf{sdf}(p \\oslash s)}{\\partial p_z}}{s_z}\\right)^2\\right]^{1/2}. \\end{aligned} $$\nTo satisfy the eikonal equation, our initial goal is to try to achieve the following:\n$$ \\textsf{sdf}(p \\oslash s) \\frac{\\partial c(p)}{\\partial p_j} + \\frac{c(p) \\frac{\\partial\\textsf{sdf}(p \\oslash s)}{\\partial p_j}}{s_j} = \\frac{\\partial\\textsf{sdf}(p \\oslash s)}{\\partial p_j}. $$\nIf this is achieved, we know for a fact that \\(||\\nabla \\left[\\textsf{sdf}(p \\oslash s) c(p) \\right]|| = ||\\nabla \\textsf{sdf}(p)|| \\equiv 1 \\).\nUniform scaling For uniform scaling, as seen before, where \\(s_i = s\\), the conditions required to obtain this result are:\nUniform scaling: \\(s_x = s_y = s_z = s\\), A constant \\(c\\): \\(\\frac{\\partial c(p)}{\\partial p_j} \\equiv 0\\), \\(c \\equiv s\\) to obtain \\((c/s) \\frac{\\partial\\textsf{sdf}(p \\oslash s)}{\\partial p_j} = \\frac{\\partial\\textsf{sdf}(p \\oslash s)}{\\partial p_j}\\). Nonuniform scaling Rewriting the equation given above, we obtain:\n$$ \\textsf{sdf}(p \\oslash s) \\frac{\\partial c(p)}{\\partial p_j} + (c(p)/s_j - 1) \\frac{\\partial\\textsf{sdf}(p \\oslash s)}{\\partial p_j} = 0. $$\nThis boils down to solving the following system of equations:\n$$ \\begin{aligned} \\frac{\\partial c(p)}{\\partial p_j} &amp;= q_j(p) - \\frac{q_j(p)}{s_j} c(p), \\quad j=1\\ldots3 \\cr \\text{where } q_j(p) &amp;\\equiv \\textsf{sdf}(p \\oslash s) \\frac{\\partial \\textsf{sdf}(p \\oslash s)}{\\partial p_j}. \\end{aligned} $$\nThis time, we cannot get away with taking a constant \\(c\\), since this would not satisfy the differential equation for all \\(j\\). Even for some sort of discontinuous \\(c\\), this effect can&rsquo;t be achieved, since there is is no indication as to what condition \\(j\\) is being evaluated based only on \\(p\\).\nA lower bound for nonuniform scaling In practical situations, it is useful to at least have a lower bound of the SDF. Since the SDF is identically zero at the surface, and the sign is preserved even when scaling, only the interior and exterior distances will be smaller than they would actually be. This is a useful property in cases such as raymarching, where overshoot is not desirable.\nLet&rsquo;s study if such a lower bound can actually be computed. The new eikonal equation for an pseudo-SDF that performs nonuniform scaling but corrects using the smallest scaling factor, takes the form of:\n$$ \\begin{aligned} &amp; ||\\nabla \\left[\\textsf{sdf}(p \\oslash s) s_\\text{min} \\right]|| = \\cr &amp;\\left[\\left( \\frac{s_\\text{min} \\frac{\\partial \\textsf{sdf}(p \\oslash s)}{\\partial p_x}}{s_x} \\right)^2 \\right. \\cr &amp;\\left. + \\left( \\frac{s_\\text{min} \\frac{\\partial \\textsf{sdf}(p \\oslash s)}{\\partial p_y}}{s_y} \\right)^2 \\right. \\cr &amp;\\left. + \\left( \\frac{s_\\text{min} \\frac{\\partial \\textsf{sdf}(p \\oslash s)}{\\partial p_z}}{s_z} \\right)^2 \\right]^{1/2}, \\end{aligned} $$\nwhere \\(s_\\text{min} \\equiv \\min(s)\\).\nConsidering the indivual elements, it is clear that:\n$$ \\left( \\frac{s_\\text{min} \\frac{\\partial \\textsf{sdf}(p \\oslash s)}{\\partial p_x}}{s_x} \\right)^2 \\leq \\left( \\frac{\\partial \\textsf{sdf}(p \\oslash s)}{\\partial p_x} \\right)^2, \\quad j = 1\\ldots 3, $$\nwhich follows from the fact that \\(s_\\text{min}/s_j \\leq 1\\). Therefore, \\(||\\nabla \\left[\\textsf{sdf}(p \\oslash s) s_\\text{min} \\right]|| \\leq 1\\), which means that the distance between points will be lower than the actual distance (see the discussion of the eikonal equation above).\nWith this, we can use the following equation as a lower-bound SDF-like function for nonuniform scaling:\n$$ \\textsf{sdf}_{s,\\text{min}} (p) = \\textsf{sdf} (p \\oslash s) s_\\text{min}. $$\nList of 2D Functions The following signed distance functions assume that the primitive is centered at the origin, unless stated otherwise. Most of these functions are adapted from Inigo Quilez&rsquo;s excellent 2D SDF functions article, while others are derived from other sources in the literature.\nPoint $$ \\textsf{sdf}(p) = ||p|| = \\sqrt{p_x^2 + p_y^2}. $$\n$$ $$ Implementation GLSL float point(vec2 p) { return length(p); } Haxe static public inline function point(p:Vec2):FFloat { return p.length; } Circle A circle simply offsets the distance to a point by a radius \\(r\\), as follows:\n$$ \\textsf{sdf}(p, r) = ||p|| - r = \\sqrt{p_x^2 + p_y^2} - r. $$\nImplementation GLSL float circle(vec2 p, float r) { return length(p) - r; } Haxe static public inline function circle(p:Vec2, r:FFloat):FFloat { return p.length - r; } Rectangle For a rectangle, consider a 2D vector \\(d\\) consisting of the width (in \\(x\\)-direction), and the height. Operators with the subscript \\(i\\) notation (e.g., \\(\\textrm{abs}_i\\)) will act on a vector in a component-wise fashion (similar to Einstein&rsquo;s tensor notation); see 5 for more information.\n$$\\begin{aligned} d(b) &amp;= \\textrm{abs}_i(p)-b, \\cr \\textsf{sdf}(p, d(b)) &amp;= ||\\max_i(d, 0)|| + \\min(\\max(d_x, d_y), 0). \\end{aligned}$$\nImplementation GLSL float rectangle(vec2 p, vec2 b) { vec2 d = abs(p)-b; return length(max(d,0.0)) + min(max(d.x,d.y),0.0); } Haxe static public function rectangle(p:Vec2, b:Vec2):FFloat { final d = p.abs().sub(b); return d.max(0).length + Math.min(Math.max(d.x, d.y), 0); } Rounded Rectangle The rounded rectangle follows a similar construction method to the rectangle, although the individual corners are rounded independently, producing a different result compared to the rectangle with uniform rounding applied.\nWikipedia. Eikonal equation.&#160;&#x21a9;&#xfe0e;\nEfi Fogel, Ron Wein, Baruch Zukerman, and Dan Halperin (2005). Boolean Set-Operations on \\(X\\)-monotone Curve Bounded Point-Sets.&#160;&#x21a9;&#xfe0e;\nCGAL, 2D Regularized Boolean Set-Operations.&#160;&#x21a9;&#xfe0e;\nJamie Wong (2016). Ray Marching and Signed Distance Functions.&#160;&#x21a9;&#xfe0e;\nWikipedia. Pointwise: Componentwise operations&#160;&#x21a9;&#xfe0e;\n"}),e.add({id:9,href:"/posts/",title:"Blog",content:""}),e.add({id:10,href:"/tags/graphics/",title:"graphics",content:""}),e.add({id:11,href:"/tags/",title:"Tags",content:""}),e.add({id:12,href:"/tags/mathematics/",title:"mathematics",content:""}),e.add({id:13,href:"/tags/physics/",title:"physics",content:""}),e.add({id:14,href:"/tags/SDF/",title:"SDF",content:""}),e.add({id:15,href:"/docs/gincy/StateSpace/",title:"State Space",content:"Introduction to State Space $$ \\mathbf{\\Sigma}_{\\mathrm{CTLTI}} = \\begin{cases} \\dot{\\mathbf{x}}(t) &= \\mathbf{A} \\mathbf{x}(t) + \\mathbf{B} \\mathbf{u}(t) \\\\ \\mathbf{y}(t) &= \\mathbf{C} \\mathbf{x}(t) + \\mathbf{D} \\mathbf{u}(t) \\end{cases} $$ $$ \\mathbf{\\Sigma}_{\\mathrm{DTLTI}} = \\begin{cases} \\mathbf{x}(k+1) &= \\mathbf{\\Phi} \\mathbf{x}(k) + \\mathbf{\\Gamma} \\mathbf{u}(k) \\\\ \\mathbf{y}(k) &= \\mathbf{C} \\mathbf{x}(k) + \\mathbf{D} \\mathbf{u}(k) \\end{cases} $$ graph LR Guidance --> Navigation Navigation --> Control Control --> Guidance Navigation --> Guidance Fig. 1: Basic flowdown of GN&C "}),e.add({id:16,href:"/posts/3/",title:"3rd",content:"3 "}),e.add({id:17,href:"/categories/",title:"Categories",content:""}),e.add({id:18,href:"/docs/",title:"Docs",content:""}),e.add({id:19,href:"/",title:"Home",content:`Welcome! My name is Hamza El-Kebir, I am a postdoctoral research associate at the Beckman Institute at the University of Illinois, passionate about applying control theory to solving challenges in robotics, optics, and healthcare.
日本語版の方がいい？ Liever in het Nederlands?
Hard at work on a prototype of the MarginDx robotic system for intraoperative cancer margin detection.
News (01/2025) I started a new position as a postdoctoral research associate at the Beckman Institute of Advanced Science and Technology, on the MarginDx project.
(05/2024) I been selected as one of the 2024 Cyber-Physical Systems (CPS) Rising Stars!
An article on my work in the NASA LEAPFROG competition was posted (click here for more info).
I gave a talk at the 2021 UIUC CSL Student Conference titled Guaranteed Reachability for Systems with Impaired Dynamics.
About me in short I enjoy tackling problems and exploring new grounds in the field of control engineering. Besides theoretical study, I am passionate about applying control theory to practical problems. My current research focus is on safe online control of systems under adverse conditions, as well as control of distributed parameter systems with applications in autonomous surgery.
I like to travel and read, and I am a (space) history enthusiast. In my pastime I enjoy biking and practicing martial arts.
What&rsquo;s on this site? Besides my curriculum vitae, you will find a list of my open source projects, as well as documentation (more on that on the left side of this page). In the near future, I will start a blog series exploring the expansive world of controls and its (unexpected) applications. Social media GitHub (@helkebir) LinkedIn Facebook `})})()